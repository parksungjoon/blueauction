<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 네임스페이스(사용영역) 설정 -->
<mapper namespace="kr.co.blueauction.mapper.ordersMapper">
	
	<insert id="insert" parameterType="Orders">
		INSERT INTO orders
		            (member_id, 
		             product_id, 
		             phone,
		             orderdate,
		             zipcode, 
				  	 baseaddress, 
				  	 detailaddress, 
		             price) 
		VALUES      (#{memberId}, 
		             #{productId}, 
		             #{phone},
		             now(), 
		             #{zipcode}, 
		             #{baseaddress},
		             #{detailaddress}, 
		             #{price})
	</insert>
	
	<select id="listAll" parameterType="int" resultType="Orders">
		Select *
		From orders
	</select>
	
	<select id="readByno" parameterType="int" resultType="Orders">
		select *
		from orders
		where order_id = #{value}
	</select>
	
	<update id="update" parameterType="Orders">
		update orders
		set phone = {phone},
		    orderdate =  #{orderdate}, 
		    dstate =  #{dstate}, 
		    zipcode = #{zipcode} , 
			baseaddress = #{baseaddress}, 
			detailaddress = #{detailaddress},    
		    price = #{price},
		    paystate = #{paystate}
		where order_id = {orderId}
	</update>

	<delete id="delete">
		delete from orders
		where order_id = {orderId}
	</delete>
</mapper>